# Utils Service

## Service Overview

The **Utils Service** is a support microservice designed to handle cross-cutting concerns within the Service Post Hub ecosystem. Its primary purpose is to decouple utility functions from the core business logic, starting with centralized event logging.

## Core Responsibilities

*   **Centralized Action Logging:**
    *   Acts as a sink for system events generated by other microservices (e.g., IAM Service).
    *   Stores logs with metadata such as priority, service source, and action type.
*   **Log Management:**
    *   Provides APIs to retrieve logs for auditing or admin dashboards.
    *   Allows marking logs as "read" to support notification-style workflows.

## Key Entities

*   **ActionLog:** The fundamental unit of data storage.
    *   **Fields:** `userId`, `message`, `actionType` (CREATE, UPDATE, etc.), `priorityType` (HIGH, MEDIUM), `serviceName`.

## Configuration

### Database
The service connects to the shared `iam_db` database but operates exclusively within the **`v1_utils_service`** schema. This ensures total isolation from the IAM service's data.

### Application Properties
Key configuration parameters are in `application.properties`:

*   `server.port`: **8185**
*   `jwt.secret`: Secret key for signing tokens.

## API Endpoints

The service API is documented via Swagger/OpenAPI.

### Action Logs
*   **GET /actionLogs/all:** Responds a paginated list of all system logs.
*   **GET /actionLogs/{id}:** Responds details of a specific log entry.
*   **PUT /actionLogs/markAsRead:** Updates the status of logs to indicate they have been reviewed.
